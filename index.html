<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de Comprovante</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root { --itau-orange: #ec7000; --text-gray: #5e5e5e; --dark-bg: #2c3e50; }
        body { font-family: 'Arial', sans-serif; background-color: #f0f0f0; margin: 0; padding: 0; overflow-x: hidden; }
        
        /* Menu Lateral Retrátil para Mobile */
        .admin-panel { 
            position: fixed; left: -320px; top: 0; width: 300px; height: 100%; 
            background: var(--dark-bg); color: white; padding: 20px; 
            transition: 0.3s; z-index: 1000; overflow-y: auto; box-shadow: 2px 0 10px rgba(0,0,0,0.3);
        }
        .admin-panel.active { left: 0; }
        .toggle-btn { 
            position: fixed; left: 10px; top: 10px; background: var(--itau-orange); 
            color: white; border: none; padding: 10px; border-radius: 5px; z-index: 1001; cursor: pointer;
        }

        .form-group { margin-bottom: 12px; }
        label { display: block; font-size: 10px; color: #ccc; text-transform: uppercase; margin-bottom: 4px; }
        input { width: 100%; padding: 10px; border-radius: 4px; border: none; background: #34495e; color: white; box-sizing: border-box; }
        
        .download-btn { width: 100%; background: #27ae60; color: white; border: none; padding: 15px; border-radius: 5px; cursor: pointer; font-weight: bold; margin-top: 10px; }

        /* Área do PDF */
        .preview-area { display: flex; justify-content: center; padding: 20px; padding-top: 60px; }
        #comprovante { 
            background: white; width: 210mm; min-height: 296mm; 
            padding: 40px; box-sizing: border-box; 
        }
        
        /* Estilos Internos do PDF */
        .logo { color: var(--itau-orange); font-size: 32px; font-weight: bold; margin-bottom: 10px; }
        .header-title { font-size: 20px; font-weight: bold; margin-bottom: 5px; }
        .header-date { font-size: 15px; color: var(--text-gray); margin-bottom: 30px; }
        .section-title { font-weight: bold; font-size: 14px; margin-top: 25px; margin-bottom: 10px; border-bottom: 1px solid #ddd; padding-bottom: 5px; }
        .info-table { width: 100%; border-collapse: collapse; }
        .info-table td { padding: 6px 0; font-size: 13px; vertical-align: top; }
        .label-cell { color: var(--text-gray); width: 45%; }
        .value-cell { font-weight: bold; width: 55%; text-align: left; word-break: break-all; }

        @media (max-width: 600px) {
            #comprovante { width: 100%; padding: 20px; min-height: auto; font-size: 12px; }
            .preview-area { padding: 10px; padding-top: 70px; }
        }
    </style>
</head>
<body>

    <button class="toggle-btn" onclick="document.querySelector('.admin-panel').classList.toggle('active')">☰ Ajustar Dados</button>

    <div class="admin-panel">
        <h2 style="font-size: 18px;">Configurações</h2>
        <div class="form-group"><label>Cód. Barras</label><input type="text" id="in_cb" value="37690001040010567100200089794861613610000034000" oninput="update()"></div>
        <div class="form-group"><label>Inst. Emissora</label><input type="text" id="in_banco" value="376 BCO J.P. MORGAN S.A." oninput="update()"></div>
        <div class="form-group"><label>Beneficiário</label><input type="text" id="in_ben" value="MERCADO PAGO INSTITUICAO DE PAGAMENTO LT" oninput="update()"></div>
        <div class="form-group"><label>Beneficiário Final</label><input type="text" id="in_final" value="Luana Gomes Rodrigues Toledo" oninput="update()"></div>
        <div class="form-group"><label>Vencimento</label><input type="text" id="in_venc" value="18/02/2026" oninput="update()"></div>
        <div class="form-group"><label>Valor (R$)</label><input type="text" id="in_valor" value="340,00" oninput="update()"></div>
        <button class="download-btn" onclick="gerarPDF()">BAIXAR DOCUMENTO</button>
    </div>

    <div class="preview-area">
        <div id="comprovante">
            <div class="logo">itaú</div>
            <div class="header-title">comprovante de pagamento outros bancos</div>
            <div id="data-topo" class="header-date"></div>

            <div class="section-title">Dados da conta debitada:</div>
            <table class="info-table">
                <tr><td class="label-cell">Nome:</td><td class="value-cell">RAFAEL VIEIRA DA ROCHA</td></tr>
                <tr><td class="label-cell">Agência:</td><td class="value-cell">0319</td></tr>
                <tr><td class="label-cell">Conta:</td><td class="value-cell">08591-6</td></tr>
            </table>

            <div class="section-title">Dados do pagamento:</div>
            <table class="info-table">
                <tr><td class="label-cell">Código de barras:</td><td class="value-cell" id="out_cb"></td></tr>
                <tr><td class="label-cell">Instituição Emissora:</td><td class="value-cell" id="out_banco"></td></tr>
                <tr><td class="label-cell">Nome do beneficiário:</td><td class="value-cell" id="out_ben"></td></tr>
                <tr><td class="label-cell">Nome do beneficiário final:</td><td class="value-cell" id="out_final"></td></tr>
                <tr><td class="label-cell">Data de vencimento:</td><td class="value-cell" id="out_venc"></td></tr>
                <tr><td class="label-cell">Valor do documento:</td><td class="value-cell" id="out_valor"></td></tr>
                <tr><td class="label-cell">Valor pago:</td><td class="value-cell" id="out_valor2"></td></tr>
                <tr><td class="label-cell">Pagamento efetuado em:</td><td class="value-cell" id="data-hora-pagamento"></td></tr>
            </table>

            <div class="section-title">Autenticação</div>
            <table class="info-table">
                <tr><td class="label-cell">Autenticação digital Itaú:</td><td class="value-cell">5BDC83A749D0C5D5470EC4F92650B813BF86879E</td></tr>
            </table>
        </div>
    </div>

    <script>
        function update() {
            document.getElementById('out_cb').innerText = document.getElementById('in_cb').value;
            document.getElementById('out_banco').innerText = document.getElementById('in_banco').value;
            document.getElementById('out_ben').innerText = document.getElementById('in_ben').value;
            document.getElementById('out_final').innerText = document.getElementById('in_final').value;
            document.getElementById('out_venc').innerText = document.getElementById('in_venc').value;
            document.getElementById('out_valor').innerText = "R$ " + document.getElementById('in_valor').value;
            document.getElementById('out_valor2').innerText = "R$ " + document.getElementById('in_valor').value;
            
            const agora = new Date();
            const meses = ["jan", "fev", "mar", "abr", "mai", "jun", "jul", "ago", "set", "out", "nov", "dez"];
            const dataStr = `${agora.getDate()} ${meses[agora.getMonth()]} de ${agora.getFullYear()}`;
            document.getElementById('data-topo').innerText = dataStr;
            document.getElementById('data-hora-pagamento').innerText = `${dataStr} às ${agora.toLocaleTimeString('pt-BR')} via MOBILE`;
        }

        function gerarPDF() {
            update();
            const element = document.getElementById('comprovante');
            const opt = {
                margin: 0,
                filename: 'Document.pdf',
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 2, useCORS: true },
                jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
            };
            html2pdf().set(opt).from(element).save();
            document.querySelector('.admin-panel').classList.remove('active');
        }
        window.onload = update;
    </script>
</body>
</html>
